<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>CloudFront — Default Cache Behavior & Custom HTTPS - Comparisonia</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    /* Comparisonia theme */
    body {
      font-family: Arial, sans-serif;
      background-color: #0d1b2a;
      color: #ffffff;
      margin: 20px;
      line-height: 1.7;
      font-size: 17px;
    }
    h1, h2 {
      text-align: center;
      color: #ff7b00;
      margin-bottom: 10px;
    }
    p {
      text-align: center;
      color: #dbe9f3;
      font-size: 17px;
    }
    .table-container {
      display: flex;
      justify-content: center;
      margin-top: 18px;
      overflow-x: auto;
    }
    table {
      border-collapse: collapse;
      background-color: #1b263b;
      width: 95%;
      max-width: 1300px;
      table-layout: fixed;
      font-size: 16px;
      margin-bottom: 30px;
    }
    th, td {
      border: 1px solid #415a77;
      padding: 14px;
      text-align: left;
      vertical-align: top;
      word-wrap: break-word;
    }
    th {
      background-color: #ff7b00;
      color: #0d1b2a;
      text-align: center;
      font-weight: bold;
      font-size: 17px;
    }
    tr:nth-child(even) {
      background-color: #243447;
    }
    ul { padding-left: 18px; margin: 0; }
    li { margin: 6px 0; }
    .highlight { color: #90ee90; font-weight: bold; }
    section { margin-top: 36px; }
    .img-slot {
      width: 140px;
      height: 80px;
      margin: 10px auto 8px;
      border: 2px dashed #415a77;
      border-radius: 6px;
      display:flex;
      align-items:center;
      justify-content:center;
      color:#dbe9f3;
      background:#0f2333;
      font-size:13px;
    }
    .section-intro { max-width:1100px; margin:0 auto; color:#dbe9f3; font-size:15px; text-align:center; }
    .note { color:#bfcbd9; font-size:14px; margin-top:8px; }
    .example { color:#dbe9f3; background:#0c2233; border-left:3px solid #90ee90; padding:8px 12px; border-radius:4px; margin-top:8px; font-size:15px; }
    @media (max-width:860px){
      .img-slot { width:90%; height:110px; }
    }
		/* Centered section images */.section-img {
	  display: block;
	  margin: 14px auto;        /* Centers the image */
	  max-width: 95%;           /* Responsive, never overflows */
	  border-radius: 10px;      /* Comparisonia theme */
	  border: 2px solid #415a77;
	  background: #ffffff;
	}

  </style>
</head>
<body>

  <h1>CloudFront — Default Cache Behavior &amp; Custom HTTPS</h1>
  <p>Strictly aligned to the uploaded PDFs. Each sub-topic is presented as a separate Comparisonia table and contains a small PNG placeholder.</p>

  <!-- ===== Default Cache Behavior: Overview ===== -->
  <section id="overview">
    <h2>Default Cache Behavior — Overview</h2>
    <div class="table-container">
      <table>
        <tr><th>Feature</th><th>Notes</th></tr>
        <tr>
          <td>Scope</td>
          <td>The default cache behavior defines how CloudFront handles requests that don't match other behaviors: path matching, caching, forwarding, and security settings are configured here.</td>
        </tr>
      </table>
    </div>
  </section>

  <!-- ===== Path Pattern ===== -->
  <section id="path-pattern">
    <h2>Path Pattern</h2>
    <div class="img-slot">PNG slot</div>
    <div class="table-container">
      <table>
        <tr><th>Setting</th><th>Explanation & Example</th></tr>
        <tr>
          <td>Path Pattern</td>
          <td>
            Specifies which content is matched by the cache behavior (for example <code>*</code> meaning all website content; <code>images/*</code> for files in the images folder). CloudFront evaluates path patterns in order and uses the first match.
          </td>
        </tr>
      </table>
    </div>
  </section>

  <!-- ===== Viewer Protocol Policy ===== -->
  <section id="viewer-protocol">
    <h2>Viewer Protocol Policy</h2>
	<img class="section-img" src="Viewer Protocol Policy.png" alt="section image">
    <div class="table-container">
      <table>
        <tr><th>Policy</th><th>Details</th></tr>
        <tr>
          <td>Viewer Protocol Policy</td>
          <td>
            Determines how CloudFront accepts requests: <strong>HTTP and HTTPS</strong>, <strong>Redirect HTTP to HTTPS</strong>, or <strong>HTTPS Only</strong>. Using a custom domain with HTTPS requires attaching a certificate.
          </td>
        </tr>
      </table>
    </div>
  </section>

  <!-- ===== Allowed HTTP Methods & Cached Methods ===== -->
  <section id="http-methods">
    <h2>Allowed HTTP Methods &amp; Cached HTTP Methods</h2>
    <div class="img-slot">PNG slot</div>
    <div class="table-container">
      <table>
        <tr><th>Setting</th><th>Details / Use cases</th></tr>
        <tr>
          <td>Allowed HTTP Methods</td>
          <td>
            Choices include:
            <ul>
              <li><strong>GET, HEAD</strong> — retrieval only; best for static content.</li>
              <li><strong>GET, HEAD, OPTIONS</strong> — includes CORS preflight support.</li>
              <li><strong>All Methods</strong> — full CRUD for dynamic APIs or interactive apps.</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>Cached HTTP Methods</td>
          <td>
            CloudFront caches responses to <strong>GET</strong> and <strong>HEAD</strong>. Caching <strong>OPTIONS</strong> helps reduce origin load for frequent CORS preflight requests. Avoid caching POST/PUT/DELETE unless specially designed.
          </td>
        </tr>
      </table>
    </div>
  </section>

  <!-- ===== Cache Key and Origin Requests ===== -->
  <section id="cache-key">
    <h2>Cache Key &amp; Origin Request Policy</h2>
    <div class="img-slot">PNG slot</div>
    <div class="table-container">
      <table>
        <tr><th>Concept</th><th>Explanation</th></tr>
        <tr>
          <td>Cache Key</td>
          <td>
            Determines when two requests are treated the same (hostname, path, query strings, headers, cookies). Use minimal elements in the cache key for a higher cache hit ratio.
          </td>
        </tr>
        <tr>
          <td>Origin Request Policy</td>
          <td>
            Controls which headers, cookies, and query strings CloudFront forwards to the origin. Optimize to forward only necessary elements.
          </td>
        </tr>
      </table>
    </div>
  </section>

  <!-- ===== Object TTLs ===== -->
  <section id="ttls">
    <h2>Object TTLs (Minimum / Default / Maximum)</h2>
    <div class="img-slot">PNG slot</div>
    <div class="table-container">
      <table>
        <tr><th>TTL Setting</th><th>Description & Guidance</th></tr>
        <tr>
          <td>Minimum / Default / Maximum TTL</td>
          <td>
            TTL values control how long CloudFront retains objects at the edge. Use long TTLs for static assets and short/zero TTLs for frequently changing content.
          </td>
        </tr>
      </table>
    </div>
  </section>

  <!-- ===== Forwarding Headers & Cookies ===== -->
  <section id="forwarding-headers">
    <h2>Forwarding Headers &amp; Cookies</h2>
    <div class="img-slot">PNG slot</div>
    <div class="table-container">
      <table>
        <tr><th>Setting</th><th>Guidance</th></tr>
        <tr>
          <td>Forwarding Headers</td>
          <td>
            Forward as few headers as possible. Forwarding many headers reduces cacheability and increases origin load.
          </td>
        </tr>
        <tr>
          <td>Cookies</td>
          <td>
            Forward cookies only when needed for personalization. Cookies significantly reduce cache hit ratio.
          </td>
        </tr>
      </table>
    </div>
  </section>

  <!-- ===== Compression ===== -->
  <section id="compression">
    <h2>Compress Objects Automatically</h2>
    <div class="img-slot">PNG slot</div>
    <div class="table-container">
      <table>
        <tr><th>Feature</th><th>Details</th></tr>
        <tr>
          <td>Automatic Compression</td>
          <td>
            CloudFront can serve compressed versions of text-based assets (gzip/brotli) when supported by the viewer. Reduces bandwidth and improves load times.
          </td>
        </tr>
      </table>
    </div>
  </section>

  <!-- ===== Edge Compute ===== -->
  <section id="edge-compute">
    <h2>Lambda@Edge &amp; CloudFront Functions</h2>
    <div class="img-slot">PNG slot</div>
    <div class="table-container">
      <table>
        <tr><th>Option</th><th>When to use</th></tr>
        <tr>
          <td>CloudFront Functions</td>
          <td>Best for lightweight request/response modifications (header changes, URL normalization).</td>
        </tr>
        <tr>
          <td>Lambda@Edge</td>
          <td>Use for complex rewrites or advanced authentication logic.</td>
        </tr>
      </table>
    </div>
  </section>

  <!-- ===== Response Headers ===== -->
  <section id="response-headers">
    <h2>Response Headers Policy &amp; Security Headers</h2>
    <div class="img-slot">PNG slot</div>
    <div class="table-container">
      <table>
        <tr><th>Header / Policy</th><th>Purpose</th></tr>
        <tr><td>Response Headers Policy</td><td>Add or modify headers at edge (CORS, HSTS, CSP, etc.).</td></tr>
        <tr><td>Strict-Transport-Security</td><td>Forces browsers to use HTTPS.</td></tr>
        <tr><td>X-Content-Type-Options</td><td>Prevents MIME-type sniffing.</td></tr>
        <tr><td>X-Frame-Options</td><td>Protects against clickjacking.</td></tr>
        <tr><td>Content-Security-Policy</td><td>Restricts allowed sources for loaded content.</td></tr>
      </table>
    </div>
  </section>

  <!-- ===== CORS ===== -->
  <section id="cors">
    <h2>CORS (Cross-Origin Resource Sharing)</h2>
    <div class="img-slot">PNG slot</div>
    <div class="table-container">
      <table>
        <tr><th>Setting</th><th>Guidance</th></tr>
        <tr>
          <td>CORS Config</td>
          <td>Configure AllowedOrigins, AllowedMethods, AllowedHeaders. Cache OPTIONS responses when possible.</td>
        </tr>
      </table>
    </div>
  </section>

  <!-- ===== Signed Access ===== -->
  <section id="signed-access">
    <h2>Restrict Viewer Access — Signed URLs &amp; Cookies</h2>
    <div class="img-slot">PNG slot</div>
    <div class="table-container">
      <table>
        <tr><th>Feature</th><th>Details</th></tr>
        <tr><td>Signed URLs</td><td>Grants temporary access to a single resource.</td></tr>
        <tr><td>Signed Cookies</td><td>Allows session-based access to multiple resources.</td></tr>
        <tr><td>Trusted Key Groups</td><td>Manage which keys are allowed to sign requests.</td></tr>
      </table>
    </div>
  </section>

  <!-- ===== Field-Level Encryption ===== -->
  <section id="field-encryption">
    <h2>Field-Level Encryption</h2>
    <div class="img-slot">PNG slot</div>
    <div class="table-container">
      <table>
        <tr><th>Feature</th><th>When to use</th></tr>
        <tr>
          <td>Field-Level Encryption</td>
          <td>Encrypts sensitive fields at the edge before sending to origin.</td>
        </tr>
      </table>
    </div>
  </section>

  <!-- ===== IPv6 Support ===== -->
  <section id="ipv6">
    <h2>IPv6 Support</h2>
    <div class="img-slot">PNG slot</div>
    <div class="table-container">
      <table>
        <tr><th>Feature</th><th>Note</th></tr>
        <tr>
          <td>IPv6</td>
          <td>CloudFront accepts IPv6 viewer requests and translates to IPv4 for the origin if required.</td>
        </tr>
      </table>
    </div>
  </section>

  <!-- ===== Logging ===== -->
  <section id="logging">
    <h2>Logging &amp; Metrics</h2>
    <div class="img-slot">PNG slot</div>
    <div class="table-container">
      <table>
        <tr><th>Feature</th><th>Why</th></tr>
        <tr>
          <td>Access Logs & CloudWatch</td>
          <td>Monitor cache hit ratio, errors, latency, and origin activity. Useful for debugging and tuning.</td>
        </tr>
      </table>
    </div>
  </section>

  <!-- ===== Custom HTTPS Sections from PDF ===== -->

  <section id="custom-https-intro">
    <h2>Custom HTTPS — Lab Overview</h2>
    <div class="img-slot">PNG slot</div>
    <div class="section-intro">
      <p>Lab objective: set up CloudFront to deliver an S3-hosted static website with a custom domain and HTTPS.</p>
    </div>
  </section>

  <section id="s3-site">
    <h2>Static Website on S3</h2>
    <div class="img-slot">PNG slot</div>
    <div class="table-container">
      <table>
        <tr><th>Step</th><th>Notes</th></tr>
        <tr>
          <td>Host on S3</td>
          <td>Host the static site in an S3 bucket configured for website hosting.</td>
        </tr>
      </table>
    </div>
  </section>

  <section id="custom-domain">
    <h2>Custom Domain</h2>
    <div class="img-slot">PNG slot</div>
    <div class="table-container">
      <table>
        <tr><th>Step</th><th>Guidance</th></tr>
        <tr>
          <td>Domain & DNS</td>
          <td>Purchase a domain and create DNS records (CNAME/Alias) pointing to the CloudFront distribution.</td>
        </tr>
      </table>
    </div>
  </section>

  <section id="ssl-tls">
    <h2>SSL/TLS Certificate — ACM vs Imported</h2>
    <div class="img-slot">PNG slot</div>
    <div class="table-container">
      <table>
        <tr><th>Option</th><th>Notes</th></tr>
        <tr>
          <td>ACM (recommended)</td>
          <td>Use AWS Certificate Manager. Request certificates for CloudFront in <code>us-east-1</code>.</td>
        </tr>
        <tr>
          <td>Imported Certificates</td>
          <td>Imported certs require manual upload and renewal.</td>
        </tr>
      </table>
    </div>
  </section>

  <section id="distribution-setup">
    <h2>CloudFront Distribution: Setup</h2>
    <div class="img-slot">PNG slot</div>
    <div class="table-container">
      <table>
        <tr><th>Action</th><th>Steps</th></tr>
        <tr>
          <td>Create Distribution</td>
          <td>Create distribution, add CNAMEs, and attach certificate.</td>
        </tr>
        <tr>
          <td>Testing</td>
          <td>Test that the site loads correctly via the custom domain.</td>
        </tr>
      </table>
    </div>
  </section>

  <section id="tls-policy">
    <h2>Minimum TLS Version &amp; Security Policy</h2>
    <div class="img-slot">PNG slot</div>
    <div class="table-container">
      <table>
        <tr><th>Setting</th><th>Guidance</th></tr>
        <tr>
          <td>Minimum TLS & Policy</td>
          <td>Select TLS 1.2 and a modern policy such as TLSv1.2_2019 for better security.</td>
        </tr>
      </table>
    </div>
  </section>

  <section id="sni-ip">
    <h2>SNI vs Dedicated IP</h2>
    <div class="img-slot">PNG slot</div>
    <div class="table-container">
      <table>
        <tr><th>Choice</th><th>Note</th></tr>
        <tr>
          <td>SNI</td>
          <td>Default; supported by most clients.</td>
        </tr>
        <tr>
          <td>Dedicated IP</td>
          <td>Use only for rare legacy clients lacking SNI support.</td>
        </tr>
      </table>
    </div>
  </section>

  <section id="http2-3">
    <h2>HTTP/2 &amp; HTTP/3 Support</h2>
    <div class="img-slot">PNG slot</div>
    <div class="table-container">
      <table>
        <tr><th>Protocol</th><th>Guidance</th></tr>
        <tr>
          <td>HTTP/2 & HTTP/3</td>
          <td>Enable both to improve performance; HTTP/3 helps on lossy networks.</td>
        </tr>
      </table>
    </div>
  </section>

  <section id="cert-validation">
    <h2>Certificate Validation &amp; DNS</h2>
    <div class="img-slot">PNG slot</div>
    <div class="table-container">
      <table>
        <tr><th>Step</th><th>Notes</th></tr>
        <tr>
          <td>Validation</td>
          <td>Validate ACM certs using DNS validation.</td>
        </tr>
      </table>
    </div>
  </section>

  <section id="cert-rotation">
    <h2>Certificate Rotation &amp; Renewal</h2>
    <div class="img-slot">PNG slot</div>
    <div class="table-container">
      <table>
        <tr><th>Type</th><th>Guidance</th></tr>
        <tr>
          <td>ACM</td>
          <td>Rotates automatically.</td>
        </tr>
        <tr>
          <td>Imported</td>
          <td>Requires manual upload and testing.</td>
        </tr>
      </table>
    </div>
  </section>

  <section id="compatibility">
    <h2>Client Compatibility &amp; Revocation</h2>
    <div class="img-slot">PNG slot</div>
    <div class="table-container">
      <table>
        <tr><th>Topic</th><th>Notes</th></tr>
        <tr>
          <td>Compatibility</td>
          <td>Use analytics to decide whether to relax TLS policies for older clients.</td>
        </tr>
        <tr>
          <td>Revocation (OCSP/CRL)</td>
          <td>Certificate revocation checks are handled by CAs and clients.</td>
        </tr>
      </table>
    </div>
  </section>

  <section id="tls-resumption">
    <h2>Edge Caching &amp; TLS Session Resumption</h2>
    <div class="img-slot">PNG slot</div>
    <div class="table-container">
      <table>
        <tr><th>Topic</th><th>Notes</th></tr>
        <tr>
          <td>TLS Session Resumption</td>
          <td>CloudFront manages TLS session resumption automatically.</td>
        </tr>
      </table>
    </div>
  </section>

  <section id="testing">
    <h2>Testing HTTPS &amp; Troubleshooting</h2>
    <div class="img-slot">PNG slot</div>
    <div class="table-container">
      <table>
        <tr><th>Checks</th><th>Recommendations</th></tr>
        <tr>
          <td>Testing</td>
          <td>Use browser devtools, curl, and SSL testing tools to verify certificate chain and settings.</td>
        </tr>
      </table>
    </div>
  </section>

</body>
</html>
