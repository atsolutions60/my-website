<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>IAM Policies - Comparisonia</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #0d1b2a;
      color: #ffffff;
      margin: 20px;
    }
    h1, h2, h3 {
      text-align: center;
      color: #ff7b00;
    }
    h2 {
      margin-top: 40px;
    }
    h3 {
      color: #ffd580;
      margin-top: 25px;
      text-align: left;
    }
    .table-container {
      display: flex;
      justify-content: center;
      margin-top: 20px;
      overflow-x: auto;
    }
    table {
      border-collapse: collapse;
      background-color: #1b263b;
      width: 90%;
      max-width: 1000px;
      table-layout: fixed;
    }
    th, td {
      border: 1px solid #415a77;
      padding: 12px;
      text-align: left;
      vertical-align: top;
      white-space: normal;
      word-wrap: break-word;
    }
    th {
      background-color: #ff7b00;
      color: #0d1b2a;
      text-align: center;
    }
    tr:nth-child(even) {
      background-color: #243447;
    }
    ul {
      padding-left: 20px;
      margin: 0;
    }
    ul li {
      text-align: left;
      margin: 4px 0;
    }
    .image-container {
      display: flex;
      justify-content: center;
      margin-top: 20px;
      flex-wrap: wrap;
      gap: 20px;
    }
    .image-container img {
      max-width: 40%;
      border: 2px solid #415a77;
      border-radius: 8px;
      background-color: #ffffff;
    }
    pre {
      background-color: #243447;
      border: 1px solid #415a77;
      padding: 10px;
      border-radius: 6px;
      overflow-x: auto;
      font-size: 13px;
      color: #90ee90;
    }
    th:first-child, td:first-child {
      width: 25%;
      white-space: nowrap;
    }
    th:last-child, td:last-child {
      width: 75%;
    }
  </style>
</head>
<body>

  <h1>IAM Policies</h1>

  <!-- Introduction -->
  <h2>Introduction</h2>
  <div class="table-container">
    <table>
      <tr><th>Aspect</th><th>Description</th></tr>
      <tr><td>Purpose</td><td>Defines who is allowed to do what with which AWS resources.</td></tr>
      <tr><td>Control</td><td>Controls access to AWS services and resources.</td></tr>
      <tr><td>Format</td><td>Policies are defined as a set of rules in JSON format.</td></tr>
      <tr><td>Security</td><td>Helps keep your AWS environment secure.</td></tr>
      <tr><td>Attachment Entities</td><td>Policies can be attached to <span class="highlight">Users</span>, <span class="highlight">Groups</span>, or <span class="highlight">Roles</span>.</td></tr>
      <tr><td>Types</td><td>There are three types of IAM Policies: AWS Managed, Customer Managed, and Inline Policies.</td></tr>
    </table>
  </div>


  <!-- AWS Managed Policies -->
  <h2>AWS Managed Policies</h2>
  <div class="table-container">
    <table>
      <tr><th>Feature</th><th>Description</th></tr>
      <tr><td>Definition</td><td>Created and managed by AWS for common use cases.</td></tr>
      <tr><td>Reusability</td><td>Ready to attach to multiple IAM users, groups, or roles within an AWS account.</td></tr>
      <tr><td>Automatic Updates</td><td>Updated automatically by AWS to include new services or permissions.</td></tr>
      <tr><td>Use Case</td><td>Provides a quick way to assign necessary permissions based on job function or need.</td></tr>
      <tr><td>Types</td><td>Divided into <span class="highlight">AWS Managed Policies (general use)</span> and <span class="highlight">Service-linked Policies</span>.</td></tr>
    </table>
  </div>

  <h3>Example</h3>
  <div class="table-container">
    <table>
      <tr><th>Aspect</th><th>Details</th></tr>
      <tr><td>Objective</td><td>Enable the IAM user <span class="highlight">EC2MasterMind</span> to fully manage EC2 instances.</td></tr>
      <tr><td>Policy Used</td><td>AmazonEC2FullAccess</td></tr>
      <tr><td>Entity</td><td>IAM User: EC2MasterMind</td></tr>
      <tr><td>Permissions</td><td>
        <ul>
          <li>Launch EC2 instances with chosen AMIs, instance types, and configurations</li>
          <li>Start, stop, reboot, and terminate EC2 instances</li>
          <li>Manage storage (volumes, snapshots)</li>
          <li>Configure network settings and security groups</li>
          <li>Create and manage SSH key pairs</li>
          <li>Monitor instances using CloudWatch and set alerts</li>
        </ul>
      </td></tr>
    </table>
  </div>

  <h3>Benefits & Limitations</h3>
  <div class="table-container">
    <table>
      <tr><th>Benefits</th><th>Limitations</th></tr>
      <tr>
        <td>
          <ul>
            <li>Simplicity</li>
            <li>Predefined by AWS</li>
            <li>Automatic updates</li>
            <li>Reusable</li>
            <li>Follows AWS best practices</li>
          </ul>
        </td>
        <td>
          <ul>
            <li>Cannot specify permissions at individual resource level</li>
            <li>No customization for unique use cases</li>
            <li>May grant broader permissions than needed</li>
            <li>Dependent on AWS for updates</li>
            <li>Complex to fully understand large managed policies</li>
          </ul>
        </td>
      </tr>
    </table>
  </div>

  <!-- Customer Managed Policies -->
  <h2>Customer Managed Policies</h2>
  <div class="table-container">
    <table>
      <tr><th>Feature</th><th>Description</th></tr>
      <tr><td>Definition</td><td>Created and managed by the user for specific requirements.</td></tr>
      <tr><td>Flexibility</td><td>Tailored permissions; attachable to multiple entities.</td></tr>
      <tr><td>Updates</td><td>Manual updates required.</td></tr>
      <tr><td>Control</td><td>Enables fine-grained access control.</td></tr>
      <tr><td>Versioning</td><td>Supports versioning and rollback.</td></tr>
    </table>
  </div>

  <h3>Example Policy</h3>
  <pre>
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": [
        "ec2:StartInstances",
        "ec2:StopInstances",
        "ec2:TerminateInstances"
      ],
      "Resource": [
        "arn:aws:ec2:region:account-id:instance/instance-id1",
        "arn:aws:ec2:region:account-id:instance/instance-id2"
      ]
    }
  ]
}
  </pre>

  <p style="text-align:center;">Test your policy with the <a href="https://policysim.aws.amazon.com/" target="_blank" style="color:#90ee90;">AWS Policy Simulator</a>.</p>

  <h3>Policy Evaluation</h3>
  <div class="table-container">
    <table>
      <tr><th>Rule</th><th>Description</th></tr>
      <tr><td>Default Deny</td><td>If no policy explicitly allows an action, it’s denied by default.</td></tr>
      <tr><td>Explicit Allow</td><td>Permits an action unless explicitly denied.</td></tr>
      <tr><td>Explicit Deny</td><td>Overrides any allow. Explicit denies take precedence.</td></tr>
      <tr><td>Maximum Size</td><td>Each customer managed policy can be up to 6,144 characters (including whitespace).</td></tr>
    </table>
  </div>

  <!-- Inline Policies -->
  <h2>Inline Policies</h2>
  <div class="table-container">
    <table>
      <tr><th>Feature</th><th>Description</th></tr>
      <tr><td>Definition</td><td>Policies directly embedded within a single IAM user, group, or role.</td></tr>
      <tr><td>Relationship</td><td>Each inline policy is tied to exactly one entity; deleted when entity is removed.</td></tr>
      <tr><td>Non-Reusable</td><td>Cannot be shared or reused with other IAM entities.</td></tr>
      <tr><td>No ARN</td><td>Do not have ARNs as they aren’t separate AWS entities.</td></tr>
      <tr><td>Use Cases</td><td>Used for specific job needs, short-term projects, and tighter security control.</td></tr>
    </table>
  </div>

</body>
</html>
